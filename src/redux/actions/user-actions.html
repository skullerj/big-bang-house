
<script>
const UserActionsMixin = (superclass) =>{
  return class extends superclass {
    constructor(){
      super();
    }
    static get actions(){
      return {
        loadUserInfo:(info)=>{
          return (dispatch)=>{
            dispatch({type:'LOAD_USER_INFO',info:info});
          }
        },
        logIn:(email,password,cb)=>{
          return (dispatch)=>{
            firebase.auth().signInWithEmailAndPassword(email, password).then((response)=>{
              dispatch({type:'AUTH_USER',auth:true});
              cb(null,response);
            }).catch((error)=>{
              cb(error)
            });
          }
        },
        logOut:(auth,cb)=>{
          return (dispatch)=>{
            firebase.auth().signOut().then(function() {
              dispatch({type:'AUTH_USER',auth:false});
              cb();
            }).catch((error)=>{
              cb(error);
            });
          }
        }
      }
    }
  }
}
</script>
